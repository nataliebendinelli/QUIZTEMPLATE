!function(){"use strict";function n(n,t,r,e,i,u,o){try{var c=n[u](o),a=c.value}catch(n){return void r(n)}c.done?t(a):Promise.resolve(a).then(e,i)}var t="undefined"!=typeof window?window:void 0,r="undefined"!=typeof globalThis?globalThis:t,e=null==r?void 0:r.navigator;null==r||r.document,null==r||r.location,null==r||r.fetch,null!=r&&r.XMLHttpRequest&&"withCredentials"in new r.XMLHttpRequest&&r.XMLHttpRequest,null==r||r.AbortController,null==e||e.userAgent;var i=null!=t?t:{},u=Array.isArray,o=Object.prototype.toString,c=u||function(n){return"[object Array]"===o.call(n)};function a(n,t,r){try{if(!(t in n))return()=>{};var e=n[t],i=r(e);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__posthog_wrapped__:{enumerable:!1,value:!0}})),n[t]=i,()=>{n[t]=e}}catch(n){return()=>{}}}var l=(n,t,r,e)=>{var i;try{i=new URL(e.url).hostname}catch(n){return}if(!c(n)||n.includes(i)){if(r){var{sessionId:u,windowId:o}=r.checkAndGetSessionAndWindowId(!0);e.headers.set("X-POSTHOG-SESSION-ID",u),e.headers.set("X-POSTHOG-WINDOW-ID",o)}e.headers.set("X-POSTHOG-DISTINCT-ID",t)}};i.__PosthogExtensions__=i.__PosthogExtensions__||{};var f={_patchFetch:(r,e,i)=>a(t,"fetch",(t=>function(){var u,o=(u=function*(n,u){var o=new Request(n,u);return l(r,e,i,o),t(o)},function(){var t=this,r=arguments;return new Promise((function(e,i){var o=u.apply(t,r);function c(t){n(o,e,i,c,a,"next",t)}function a(t){n(o,e,i,c,a,"throw",t)}c(void 0)}))});return function(n,t){return o.apply(this,arguments)}}())),_patchXHR:(n,r,e)=>a(t.XMLHttpRequest.prototype,"open",(t=>function(i,u,o,c,a){void 0===o&&(o=!0);var f=new Request(u);return l(n,r,e,f),t.call(this,i,f.url,o,c,a)}))};i.__PosthogExtensions__.tracingHeadersPatchFns=f,i.postHogTracingHeadersPatchFns=f}();
//# sourceMappingURL=tracing-headers.js.map
